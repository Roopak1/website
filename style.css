:root {
	--bg: #0f172a; /* slate-900 */
	--fg: #e2e8f0; /* slate-200 */
	--accent: #60a5fa; /* blue-400 */
}

* {
	box-sizing: border-box;
}

html, body {
	height: 100%;
	margin: 0;
}

body {
	background: radial-gradient(1200px 800px at 70% 10%, #111827 0%, var(--bg) 60%);
	color: var(--fg);
	font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
	overflow: hidden;
}

#scene {
	position: relative;
	width: 100vw;
	height: 100vh;
	overflow: hidden;
}

.word {
	position: absolute;
	left: 0;
	top: 0;
	transform-origin: center center;
	will-change: transform;
	user-select: none;
	padding: 0;
	border-radius: 0;
	background: transparent;
	border: none;
	color: var(--fg);
	backdrop-filter: none;
	font-weight: 700;
	letter-spacing: 0px;
}

@media (max-width: 480px) {
	.word { font-size: 14px; }
}

@media (min-width: 481px) {
	.word { font-size: 18px; }
}

/* Start overlay */
.overlay {
	position: fixed;
	inset: 0;
	display: grid;
	place-items: center;
	background: transparent;
	backdrop-filter: none;
}

.panel {
	padding: 0;
	border-radius: 0;
	color: var(--fg);
	background: transparent;
	border: none;
	text-align: center;
}

.panel h1 {
	margin: 0 0 10px 0;
	font-size: 24px;
}

.btn {
	appearance: none;
	border: none;
	padding: 10px 16px;
	border-radius: 10px;
	background: linear-gradient(180deg, #60a5fa, #3b82f6);
	color: white;
	font-weight: 700;
	cursor: pointer;
}

.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(1px); }

.hint {
	opacity: 0.8;
	margin-top: 10px;
	font-size: 12px;
}

/* Blast visuals */
.shockwave {
	position: absolute;
	left: 0;
	top: 0;
	width: 12px;
	height: 12px;
	border-radius: 9999px;
	border: 2px solid rgba(255, 80, 80, 0.9);
	transform: translate(-50%, -50%) scale(0);
	opacity: 0.8;
	pointer-events: none;
}

/* Glowing text for the selected blinking word */
.glow {
	text-shadow:
		0 0 10px rgba(255, 255, 255, 0.68),
		0 0 20px rgba(255, 255, 255, 0.44),
		0 0 40px rgba(96, 165, 250, 0.24);
	animation: glowPulse 1300ms ease-in-out infinite;
}

@keyframes glowPulse {
	/* Heartbeat: quick strong pulse, brief drop, smaller pulse, then rest */
	0%, 100% {
		text-shadow:
			0 0 8px rgba(255, 255, 255, 0.60),
			0 0 16px rgba(255, 255, 255, 0.36),
			0 0 28px rgba(96, 165, 250, 0.20);
	}
	10% {
		text-shadow:
			0 0 14px rgba(255, 255, 255, 0.76),
			0 0 30px rgba(255, 255, 255, 0.52),
			0 0 56px rgba(96, 165, 250, 0.32);
	}
	14% {
		text-shadow:
			0 0 10px rgba(255, 255, 255, 0.64),
			0 0 20px rgba(255, 255, 255, 0.40),
			0 0 40px rgba(96, 165, 250, 0.24);
	}
	20% {
		text-shadow:
			0 0 12px rgba(255, 255, 255, 0.70),
			0 0 24px rgba(255, 255, 255, 0.46),
			0 0 48px rgba(96, 165, 250, 0.28);
	}
	28% {
		text-shadow:
			0 0 8px rgba(255, 255, 255, 0.60),
			0 0 16px rgba(255, 255, 255, 0.36),
			0 0 28px rgba(96, 165, 250, 0.20);
	}
}
.shockwave.go {
	transform: translate(-50%, -50%) scale(18);
	opacity: 0;
	transition: transform 600ms cubic-bezier(0.2, 0.7, 0.2, 1), opacity 600ms ease-out;
}

.particle {
	position: absolute;
	left: 0;
	top: 0;
	width: 4px;
	height: 4px;
	border-radius: 9999px;
	background: currentColor;
	transform: translate(-50%, -50%) scale(1);
	opacity: 1;
	pointer-events: none;
}
.particle.fly {
	transform: translate(var(--dx, 0px), var(--dy, 0px)) scale(0.9);
	opacity: 0;
	transition: transform 700ms ease-out, opacity 700ms ease-out;
}

/* Post-blast messages */
.post-overlay {
	position: absolute;
	inset: 0;
	display: grid;
	place-items: center;
	pointer-events: none;
}
.post-box {
	text-align: center;
	color: var(--fg);
}
.post-line {
	opacity: 0;
	transform: translateY(8px);
}

/* Disable text selection and tap highlight on words */
#scene, .word {
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Remove focus outline if the div ever gets focus */
.word:focus { outline: none; }

/* Optional: hide selection color just in case */
.word::selection { background: transparent; }
